apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: applicationdefinitions.driscoll.dev
spec:
  group: driscoll.dev
  names:
    categories: []
    kind: ApplicationDefinition
    plural: applicationdefinitions
    shortNames: []
    singular: applicationdefinition
  scope: Namespaced
  versions:
    - additionalPrinterColumns: []
      name: v1
      schema:
        openAPIV3Schema:
          description: Auto-generated derived type for ApplicationDefinitionSpec via `CustomResource`
          properties:
            spec:
              required:
                - name
                - category
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                category:
                  type: string
                slug:
                  type: string
                icon:
                  type: string
                url:
                  type: string
                access_policy:
                  type: object
                  properties:
                    groups:
                      type: array
                      items:
                        type: string
                    entitlements:
                      type: array
                      items:
                        type: string
                uptime:
                  type: object
                  properties:
                    http:
                      type: object
                      properties:
                        url:
                          type: string
                        method:
                          type: string
                          enum: [GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS]
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_redirects:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        proxy_id:
                          type: string
                        resend_interval:
                          type: integer
                        retry_interval:
                          type: integer
                        timeout:
                          type: integer
                        upside_down:
                          type: boolean
                        tls_ca:
                          type: string
                        tls_cert:
                          type: string
                        tls_key:
                          type: string
                        ignore_tls:
                          type: boolean
                        expiry_notification:
                          type: boolean
                        http_body_encoding:
                          type: string
                          enum: [none, base64, utf8]
                        body:
                          type: string
                        auth_domain:
                          type: string
                        authMethod:
                          type: string
                          enum: [basic, oauth, none]
                        auth_workstation:
                          type: string
                        basic_auth_user:
                          type: string
                        basic_auth_pass:
                          type: string
                        oauth_auth_method:
                          type: string
                          enum: [client_credentials, password, none]
                        oauth_client_id:
                          type: string
                        oauth_client_secret:
                          type: string
                        oauth_scopes:
                          type: string
                        oauth_token_url:
                          type: string
                    ping:
                      type: object
                      properties:
                        hostname:
                          type: string
                        packet_size:
                          type: integer
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer
                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    docker:
                      type: object
                      properties:
                        docker_container:
                          type: string
                        docker_host:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    dns:
                      type: object
                      properties:
                        hostname:
                          type: string
                        dns_resolve_server:
                          type: string
                        dns_resolve_type:
                          type: string
                          enum: [A, AAAA, CNAME, MX, TXT, SRV, PTR, SOA, NS]
                        port:
                          type: integer
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer
                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    gamedig:
                      type: object
                      properties:
                        game:
                          type: string
                        gamedig_given_port_only:
                          type: boolean
                        hostname:
                          type: string
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        port:
                          type: integer
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                    group:
                      type: object
                      properties:
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    grpc-keyword:
                      type: object
                      properties:
                        grpc_body:
                          type: string
                        grpc_enable_tls:
                          type: boolean
                        grpc_metadata:
                          type: string
                        grpc_method:
                          type: string
                        grpc_protobuf:
                          type: string
                        grpc_service_name:
                          type: string
                        grpc_url:
                          type: string
                        interval:
                          type: integer
                        invert_keyword:
                          type: boolean
                        keyword:
                          type: string
                        max_retries:
                          type: integer
                        max_redirects:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                    json-query:
                      type: object
                      properties:
                        url:
                          type: string
                        json_path:
                          type: string
                        expected_value:
                          type: string
                        method:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        auth_domain:
                          type: string
                        authMethod:
                          type: string
                        auth_workstation:
                          type: string
                        basic_auth_user:
                          type: string
                        basic_auth_pass:
                          type: string
                        body:
                          type: string
                        expiry_notification:
                          type: boolean
                        http_body_encoding:
                          type: string
                        ignore_tls:
                          type: boolean
                        interval:
                          type: integer
                        max_redirects:
                          type: integer
                        max_retries:
                          type: integer
                        oauth_auth_method:
                          type: string
                        oauth_client_id:
                          type: string
                        oauth_client_secret:
                          type: string
                        oauth_scopes:
                          type: string
                        oauth_token_url:
                          type: string
                        parent_name:
                          type: string
                        proxy_id:
                          type: string
                        resend_interval:
                          type: integer
                        retry_interval:
                          type: integer
                        timeout:
                          type: integer
                        tls_ca:
                          type: string
                        tls_cert:
                          type: string
                        tls_key:
                          type: string
                        upside_down:
                          type: boolean
                    kafka-producer:
                      type: object
                      properties:
                        kafka_producer_sasl_options_mechanism:
                          type: string
                          enum: [plain, scram-sha-256, scram-sha-512]
                        kafka_producer_ssl:
                          type: boolean
                        kafka_producer_brokers:
                          type: string
                        kafka_producer_topic:
                          type: string
                        kafka_producer_message:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer
                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    keyword:
                      type: object
                      properties:
                        url:
                          type: string
                        keyword:
                          type: string
                        invert_keyword:
                          type: boolean
                        method:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        auth_domain:
                          type: string
                        authMethod:
                          type: string
                        auth_workstation:
                          type: string
                        basic_auth_user:
                          type: string
                        basic_auth_pass:
                          type: string
                        body:
                          type: string
                        expiry_notification:
                          type: boolean
                        http_body_encoding:
                          type: string
                        ignore_tls:
                          type: boolean
                        interval:
                          type: integer
                        max_redirects:
                          type: integer
                        max_retries:
                          type: integer
                        oauth_auth_method:
                          type: string
                        oauth_client_id:
                          type: string
                        oauth_client_secret:
                          type: string
                        oauth_scopes:
                          type: string
                        oauth_token_url:
                          type: string
                        parent_name:
                          type: string
                        proxy_id:
                          type: string
                        resend_interval:
                          type: integer
                        retry_interval:
                          type: integer
                        timeout:
                          type: integer
                        tls_ca:
                          type: string
                        tls_cert:
                          type: string
                        tls_key:
                          type: string
                        upside_down:
                          type: boolean
                    mongodb:
                      type: object
                      properties:
                        database_connection_string:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer
                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    mqtt:
                      type: object
                      properties:
                        mqtt_check_type:
                          type: string
                          enum: [connect, publish, subscribe]
                        mqtt_username:
                          type: string
                        mqtt_password:
                          type: string
                        mqtt_topic:
                          type: string
                        mqtt_success_message:
                          type: string
                        hostname:
                          type: string
                        port:
                          type: integer
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer
                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    mysql:
                      type: object
                      properties:
                        database_connection_string:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer
                        parent_name:
                          type: string
                        radius_password:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    port:
                      type: object
                      properties:
                        hostname:
                          type: string
                        port:
                          type: integer
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    postgres:
                      type: object
                      properties:
                        database_connection_string:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    push:
                      type: object
                      properties:
                        push_token:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    radius:
                      type: object
                      properties:
                        hostname:
                          type: string
                        port:
                          type: integer
                        radius_called_station_id:
                          type: string
                        radius_calling_station_id:
                          type: string
                        radius_password:
                          type: string
                        radius_secret:
                          type: string
                        radius_username:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    real-browser:
                      type: object
                      properties:
                        remote_browser:
                          type: string
                        remote_browsers_toggle:
                          type: boolean
                        url:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    redis:
                      type: object
                      properties:
                        database_connection_string:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    steam:
                      type: object
                      properties:
                        hostname:
                          type: string
                        port:
                          type: integer
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    sqlserver:
                      type: object
                      properties:
                        database_connection_string:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                    tailscale-ping:
                      type: object
                      properties:
                        hostname:
                          type: string
                        accepted_statuscodes:
                          type: array
                          items:
                            type: string
                        active:
                          type: boolean
                        interval:
                          type: integer
                        max_retries:
                          type: integer

                        parent_name:
                          type: string
                        retry_interval:
                          type: integer
                        upside_down:
                          type: boolean
                uptimeFrom:
                  type: object
                  properties:
                    type:
                      type: string
                      enum: [configMap, secret]
                    name:
                      type: string
                gatus:
                  type: object
                  description: Configuration for a monitored endpoint
                  required:
                    - url
                  properties:
                    group:
                      type: string
                      description: Group to which the endpoint belongs
                    url:
                      type: string
                      description: URL to monitor (supports http, https, tcp, udp, sctp, icmp, ws, wss, ssh, dns, starttls)
                    method:
                      type: string
                      description: HTTP method to use
                      enum: [GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS]
                      default: GET
                    conditions:
                      type: array
                      description: List of conditions to evaluate
                      items:
                        type: string
                      minItems: 1
                    interval:
                      type: string
                      description: Duration between each check
                      default: "60s"
                      pattern: '^[0-9]+(ns|us|µs|ms|s|m|h)$'
                    timeout:
                      type: string
                      description: Maximum duration before timing out
                      default: "10s"
                      pattern: '^[0-9]+(ns|us|µs|ms|s|m|h)$'
                    client:
                      type: object
                      description: Client configuration for HTTP requests
                      properties:
                        insecure:
                          type: boolean
                          description: Whether to skip TLS verification
                          default: false
                        ignore-redirect:
                          type: boolean
                          description: Whether to ignore redirects
                          default: false
                        timeout:
                          type: string
                          description: Client timeout
                          pattern: '^[0-9]+(ns|us|µs|ms|s|m|h)$'
                        dns-resolver:
                          type: string
                          description: DNS resolver to use (e.g., tcp://8.8.8.8:53)
                        oauth2:
                          type: object
                          description: OAuth2 configuration
                          properties: {}
                          required:
                            - token-url
                            - client-id
                            - client-secret
                        identity-aware-proxy:
                          type: object
                          description: GCP Identity-Aware Proxy configuration
                          properties: {}
                          required:
                            - audience
                        proxy-url:
                          type: string
                          description: Proxy URL for requests
                        network:
                          type: string
                          description: Network to use (tcp4 or tcp6)
                          enum: [tcp4, tcp6]
                    alerts:
                      type: array
                      description: Alerts to trigger on failure
                      items:
                        type: object
                    body:
                      type: string
                      description: Request body
                    headers:
                      type: object
                      description: HTTP headers to send
                      additionalProperties:
                        type: string
                    graphql:
                      type: boolean
                      description: Whether this is a GraphQL query
                      default: false
                    dns:
                      type: object
                      description: DNS query configuration
                      properties:
                        query-type:
                          type: string
                          description: DNS query type
                          enum: [A, AAAA, CNAME, MX, TXT, SRV, PTR, SOA, NS]
                        query-name:
                          type: string
                          description: DNS query name
                      required: [query-type, query-name]
                    ssh:
                      type: object
                      description: SSH configuration
                      properties:
                        username:
                          type: string
                          description: SSH username
                        password:
                          type: string
                          description: SSH password
                        private-key:
                          type: string
                          description: SSH private key
                      required: [username]
                    ui:
                      type: object
                      description: UI customization options
                      properties:
                        title:
                          type: string
                          description: Title of the status page
                          default: "Health Dashboard"
                        description:
                          type: string
                          description: Description of the status page
                        header:
                          type: string
                          description: Header text for the status page
                        logo:
                          type: string
                          description: URL or path to logo image
                        link:
                          type: string
                          description: Link for the logo/header
                        buttons:
                          type: array
                          description: Custom buttons to display
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              url:
                                type: string
                              icon:
                                type: string
                    disable-monitoring-lock:
                      type: boolean
                      description: Whether to disable the monitoring lock for this endpoint
                gatusFrom:
                  type: object
                  properties:
                    type:
                      type: string
                      enum: [configMap, secret]
                    name:
                      type: string
                authentik:
                  type: object
                  properties:
                    ssf:
                      type: object
                      properties:
                        eventRetention:
                          type: string
                        jwtFederationProviders:
                          type: array
                          items:
                            type: number
                        providerSsfId:
                          type: string
                        signingKey:
                          type: string
                    scim:
                      type: object
                      properties:
                        compatibilityMode:
                          type: string
                        dryRun:
                          type: boolean
                        excludeUsersServiceAccount:
                          type: boolean
                        filterGroup:
                          type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        propertyMappingsGroups:
                          type: array
                          items:
                            type: string
                        providerScimId:
                          type: string
                        token:
                          type: string
                        url:
                          type: string
                      required:
                        - token
                        - url
                    saml:
                      type: object
                      properties:
                        acsUrl:
                          type: string
                        assertionValidNotBefore:
                          type: string
                        assertionValidNotOnOrAfter:
                          type: string
                        audience:
                          type: string
                        authenticationFlow:
                          type: string
                        authnContextClassRefMapping:
                          type: string
                        authorizationFlow:
                          type: string
                        defaultRelayState:
                          type: string
                        digestAlgorithm:
                          type: string
                        encryptionKp:
                          type: string
                        invalidationFlow:
                          type: string
                        issuer:
                          type: string
                        nameIdMapping:
                          type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        providerSamlId:
                          type: string
                        sessionValidNotOnOrAfter:
                          type: string
                        signAssertion:
                          type: boolean
                        signResponse:
                          type: boolean
                        signatureAlgorithm:
                          type: string
                        signingKp:
                          type: string
                        spBinding:
                          type: string
                        urlSloPost:
                          type: string
                        urlSloRedirect:
                          type: string
                        urlSsoInit:
                          type: string
                        urlSsoPost:
                          type: string
                        urlSsoRedirect:
                          type: string
                        verificationKp:
                          type: string
                      required:
                        - acsUrl
                    proxy:
                      type: object
                      properties:
                        accessTokenValidity:
                          type: string
                        authenticationFlow:
                          type: string
                        authorizationFlow:
                          type: string
                        basicAuthEnabled:
                          type: boolean
                        basicAuthPasswordAttribute:
                          type: string
                        basicAuthUsernameAttribute:
                          type: string
                        cookieDomain:
                          type: string
                        externalHost:
                          type: string
                        interceptHeaderAuth:
                          type: boolean
                        internalHost:
                          type: string
                        internalHostSslValidation:
                          type: boolean
                        invalidationFlow:
                          type: string
                        jwksSources:
                          type: array
                          items:
                            type: string
                        jwtFederationProviders:
                          type: array
                          items:
                            type: string
                        jwtFederationSources:
                          type: array
                          items:
                            type: string
                        mode:
                          type: string
                          enum: ["proxy", "forward_single", "forward_domain"]
                        name:
                          type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        providerProxyId:
                          type: string
                        refreshTokenValidity:
                          type: string
                        backchannelLogoutUri:
                          type: string
                        skipPathRegex:
                          type: string
                    radius:
                      type: object
                      properties:
                        authorizationFlow:
                          type: string
                        clientNetworks:
                          type: string
                        invalidationFlow:
                          type: string
                        mfaSupport:
                          type: boolean

                        propertyMappings:
                          type: array
                          items:
                            type: string
                        providerRadiusId:
                          type: string
                        sharedSecret:
                          type: string
                      required:
                        - sharedSecret
                    rac:
                      type: object
                      properties:
                        authenticationFlow:
                          type: string
                        authorizationFlow:
                          type: string
                        connectionExpiry:
                          type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        providerRacId:
                          type: string
                        settings:
                          type: string
                      required: []
                    oauth2:
                      type: object
                      properties:
                        accessCodeValidity:
                          type: string
                        accessTokenValidity:
                          type: string
                        allowedRedirectUris:
                          type: array
                          items:
                            type: object
                            properties:
                              matching_mode:
                                type: string
                              url:
                                type: string
                            required: [url]
                        authenticationFlow:
                          type: string
                        authorizationFlow:
                          type: string
                        clientId:
                          type: string
                        clientSecret:
                          type: string
                        clientType  :
                          type: string
                        encryptionKey:
                          type: string
                        includeClaimsInIdToken:
                          type: boolean
                        invalidationFlow:
                          type: string
                        issuerMode:
                          type: string
                        jwksSources:
                          type: array
                          items:
                            type: string
                        jwtFederationProviders:
                          type: array
                          items:
                            type: number
                        jwtFederationSources:
                          type: array
                          items:
                            type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        providerOAuth2Id:
                          type: string
                        refreshTokenValidity:
                          type: string
                        backchannelLogoutUri:
                          type: string
                        signingKey:
                          type: string
                        subMode:
                          type: string
                      required: []
                    microsoftEntra:
                      type: object
                      properties:
                        clientId:
                          type: string
                        clientSecret:
                          type: string
                        dryRun  :
                          type: boolean
                        excludeUsersServiceAccount:
                          type: boolean
                        filterGroup:
                          type: string
                        groupDeleteAction:
                          type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        propertyMappingsGroups:
                          type: array
                          items:
                            type: string
                        providerMicrosoftEntraId:
                          type: string
                        tenantId:
                          type: string
                        userDeleteAction:
                          type: string
                      required:
                        - clientId
                        - clientSecret
                        - tenantId
                    ldap:
                      type: object
                      properties:
                        baseDn:
                          type: string
                        bindFlow:
                          type: string
                        bindMode:
                          type: string
                        certificate:
                          type: string
                        gidStartNumber:
                          type: number
                        mfaSupport:
                          type: boolean
                        providerLdapId:
                          type: string
                        searchMode:
                          type: string
                        tlsServerName:
                          type: string
                        uidStartNumber:
                          type: number
                        unbindFlow:
                          type: string
                      required:
                        - baseDn
                    googleWorkspace:
                      type: object
                      properties:
                        credentials:
                          type: string
                        defaultGroupEmailDomain:
                          type: string
                        delegatedSubject:
                          type: string
                        dryRun:
                          type: boolean
                        excludeUsersServiceAccount:
                          type: boolean
                        filterGroup:
                          type: string
                        groupDeleteAction:
                          type: string
                        propertyMappings:
                          type: array
                          items:
                            type: string
                        propertyMappingsGroups:
                          type: array
                          items:
                            type: string
                        providerGoogleWorkspaceId :
                          type: string
                        userDeleteAction:
                          type: string
                      required:
                        - defaultGroupEmailDomain
                  required: []
                authentikFrom:
                  type: object
                  properties:
                    type:
                      type: string
                      enum: [configMap, secret]
                    name:
                      type: string
          required:
            - spec
          title: Application Definition
          type: object
      served: true
      storage: true
      subresources: {}
