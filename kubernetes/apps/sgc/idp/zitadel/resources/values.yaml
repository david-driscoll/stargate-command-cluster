# Default values for zitadel.
zitadel:
  configmapConfig:
    ExternalDomain: ${APP}.${ROOT_DOMAIN}
    FirstInstance:
      Skip: false
      Org:
        # In the DefaultInstance.Org.Machine section, the initial organization's admin user with the role IAM_OWNER is defined.
        # If DefaultInstance.Org.Machine.Machine is defined, a service user is created with the IAM_OWNER role.
        Machine:
          Machine:
            Username: zitadel-machine
            Name: Replicators
          MachineKey:
            ExpirationDate: 2032-01-01T00:00:00Z
            Type: 1
          Pat:
            ExpirationDate: 2032-01-01T00:00:00Z
        LoginClient:
          Machine:
            Username: zitadel-login
            Name: Zitadel Login Client
          Pat:
            ExpirationDate: 2032-01-01T00:00:00Z
  configSecretName: zitadel-config
  configSecretKey: config.yaml
  masterkeySecretName: zitadel-masterkey
replicaCount: 3
login:
  enabled: true
  replicaCount: 3
  image:
    repository: ghcr.io/zitadel/zitadel-login
    tag: v4.7.2@sha256:c43f064243a6811273acf581446a233b2df07a122a3397b88ba180cc9686384f
    pullPolicy: IfNotPresent
image:
  repository: ghcr.io/zitadel/zitadel
  tag: v4.7.1
  pullPolicy: IfNotPresent

# # Additional environment variables
# env:
#   []
#   # - name: ZITADEL_DATABASE_POSTGRES_HOST
#   #   valueFrom:
#   #     secretKeyRef:
#   #       name: postgres-pguser-postgres
#   #       key: host

# # Additional environment variables from the given secret name
# # Zitadel can be configured using environment variables from a secret.
# # Reference: https://zitadel.com/docs/self-hosting/manage/configure#configure-by-environment-variables
# envVarsSecret: ""

resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 1
    memory: 1Gi

metrics:
  enabled: true
  serviceMonitor:
    enabled: true
