metadata_dir = "/var/lib/garage/meta"
data_dir = "/var/lib/garage/data"

db_engine = "lmdb"

block_size = "1048576"

replication_factor = 2
consistency_mode = "degraded"

compression_level = 1

# metadata_auto_snapshot_interval = .Values.garage.metadataAutoSnapshotInterval | quote

rpc_bind_addr = "[::]:3901"
# rpc_secret will be populated by the init container from a k8s secret object
rpc_secret = "{{ .secret }}"

bootstrap_peers = []

[kubernetes_discovery]
namespace = "garage"
service_name = "garage"
skip_crd = false

[s3_api]
s3_region = "homelab"
api_bind_addr = "[::]:3900"
root_domain = ".s3.${CLUSTER_DOMAIN}"

[s3_web]
bind_addr = "[::]:3902"
root_domain = ".web.${CLUSTER_DOMAIN}"
index = "index.html"

[admin]
api_bind_addr = "[::]:3903"
admin_token = "{{ .credential }}"
#trace_sink = ".Values.monitoring.tracing.sink"
