# yaml-language-server: $schema=https://raw.githubusercontent.com/david-driscoll/stargate-command-cluster/refs/heads/main/schemas/gatus.schema.json
storage:
  type: postgres
  path: "{{ .postgres_uri }}"
metrics: true

alerting:
  pushover:
    application-token: "{{ .pushover_credential }}"
    user-key: "{{ .pushover_username }}"

security:
  oidc:
    issuer-url: "{{ .oidc_issuer }}"
    redirect-url: "https://${APP}.${CLUSTER_DOMAIN}/authorization-code/callback"
    client-id: "{{ .oidc_client_id }}"
    client-secret: "{{ .oidc_client_secret }}"
    scopes:
      - openid
      - email
      - profile

ui:
  title: Status | Gatus
  header: Status
  # logo: https://avatars.githubusercontent.com/u/319220
  # link: https://status.${DOMAIN}
  # buttons:
  #   - name: Github
  #     link: https://github.com/Diaoul
  #   - name: Homelab
  #     link: https://github.com/Diaoul/home-ops

web:
  port: $${GATUS_WEB_PORT}
endpoints:
  - name: Internal DNS Check
    url: "100.111.209.201"
    dns:
      query-type: CNAME
      query-name: gatus.${CLUSTER_DOMAIN}
    conditions:
      - "[BODY] == ${INTERNAL_DOMAIN}"
      - "[DNS_RCODE] == NOERROR"
