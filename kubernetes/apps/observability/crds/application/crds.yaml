apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: applicationdefinitions.authentik.driscoll.dev
spec:
  group: driscoll.dev
  names:
    categories: []
    kind: ApplicationDefinition
    plural: applicationdefinitions
    shortNames: []
    singular: applicationdefinition
  scope: Namespaced
  versions:
  - additionalPrinterColumns: []
    name: v1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for ApplicationDefinitionSpec via `CustomResource`
        properties:
          spec:
            properties:
              uptime:
                type: object
                properties:
                  http:
                    type: object
                    properties:
                      url:
                        type: string
                      method:
                        type: string
                        enum: [GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS]
                      accepted_statuscodes:
                        type: array
                        items:
                          type: string
                      active:
                        type: boolean
                      description:
                        type: string
                      interval:
                        type: integer
                      max_redirects:
                        type: integer
                      max_retries:
                        type: integer
                      name:
                        type: string
                      parent:
                        type: integer
                      parent_name:
                        type: string
                      proxy_id:
                        type: string
                      resend_interval:
                        type: integer
                      retry_interval:
                        type: integer
                      timeout:
                        type: integer
                      upside_down:
                        type: boolean
                      tls_ca:
                        type: string
                      tls_cert:
                        type: string
                      tls_key:
                        type: string
                      ignore_tls:
                        type: boolean
                      expiry_notification:
                        type: boolean
                      http_body_encoding:
                        type: string
                        enum: [none, base64, utf8]
                      body:
                        type: string
                      auth_domain:
                        type: string
                      authMethod:
                        type: string
                        enum: [basic, oauth, none]
                      auth_workstation:
                        type: string
                      basic_auth_user:
                        type: string
                      basic_auth_pass:
                        type: string
                      oauth_auth_method:
                        type: string
                        enum: [client_credentials, password, none]
                      oauth_client_id:
                        type: string
                      oauth_client_secret:
                        type: string
                      oauth_scopes:
                        type: string
                      oauth_token_url:
                        type: string
                  ping:
                    type: object
                    properties:
                      hostname:
                        type: string
                      packet_size:
                        type: integer
                      accepted_statuscodes:
                        type: array
                        items:
                          type: string
                      active:
                        type: boolean
                      description:
                        type: string
                      interval:
                        type: integer
                      max_retries:
                        type: integer
                      name:
                        type: string
                      parent:
                        type: integer
                      parent_name:
                        type: string
                      retry_interval:
                        type: integer
                      upside_down:
                        type: boolean
                  # ...other uptime types (docker, dns, gamedig, etc.) can be added similarly...
              uptimeFrom:
                type: object
                properties:
                  type:
                    type: string
                    enum: [configMap, secret]
                  name:
                    type: string
              authentik:
                type: object
                properties:
                  provider:
                    type: string
                    enum: [oauth2, ldap, forward-auth, proxy]
                  slug:
                    type: string
                  url:
                    type: string
                  icon:
                    type: string
                  description:
                    type: string
                  category:
                    type: string
                  config:
                    type: object
                    additionalProperties:
                      type: string
                required:
                  - provider
                  - url
                  - icon
                  - category
                  - config
              authentikFrom:
                type: object
                properties:
                  type:
                    type: string
                    enum: [configMap, secret]
                  name:
                    type: string
            required: []
            type: object
        required:
        - spec
        title: Application Definition
        type: object
    served: true
    storage: true
    subresources: {}
